<meta charset="utf-8" />

<script>
  /*
    Criar um menu que tenha:

    1) Para inserir - id - nome - 3 notas
    2) Para listar
    3) Para excluir
    0) para sair

    Utilize funções!
    */
   
  let lista = [];

  while (true) {
    let option = menu();

    if (option == 1) {
      inserir();
    } else if (option == 2) {
      listar();
    } else if (option == 3) {
      excluir();
    } else if (option == 0) {
      alert("Saiu!!");
      break;
    }
  }

  function menu() {
    let select = Number(
      prompt(`Menu: 
        1) Para inserir 
        2) Para listar 
        3) Para excluir 
        0) para sair`)
    );

    if (select > 3 || select < 0) {
      alert("Opção inválida!");
    }
    return select;
  }

  function inserir() {
    let nota = [];

    let id = prompt("Insira o ID: ");
    let nome = prompt("Insira o nome: ");

    for (let x = 0; x < 3; x++) {
      let temp = parseInt(prompt(`Insira a ${x + 1}° nota!`));
      nota.push(temp);
    }

    let insert = {
      id: id,
      nome: nome,
      nota: nota,
    };

    lista.push(insert);
  }

  function listar() {
    let acc = `Lista: \n`;

    for (let z = 0; z < lista.length; z++) {
      acc += `
            N° ${z} 
            ID: ${lista[z].id} 
            Nome: ${lista[z].nome} 
            Nota 1: ${lista[z].nota[0]} 
            Nota 2: ${lista[z].nota[1]} 
            Nota 3: ${lista[z].nota[2]}\n`;
    }
    alert(acc);
  }

  function excluir() {
    if (lista.length > 0) {
      let unit = Number(
        prompt(
          `Insira o número do item que deseja excluir: \nPossui atualmente ${lista.length} para a escolha `
        )
      );

      if (unit >= 0 && unit < lista.length) {
        lista.splice(unit, 1);
        alert("Excluido!!");
        if (lista.length != 0) {
          alert(`Excluido!! Ainda constam ${lista.length} iten(s). `);
        } else alert(`Não possui mais produtos!`);
      } else {
        alert("Não encontrado!");
      }
    } else alert(`Não possui produtos!`);
  }

</script>
