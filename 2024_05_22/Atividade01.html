<meta charset="utf-8">

<script>

    /*
- pode ser feito individual ou em grupo de até 4 pessoas
- apenas um do grupo entrega
- no arquivo deve ter o nome dos integrantes

1. Crie um programa para cadastrar alunos (matricula, nome, idade, notas 3 notas) 
o programa vai ter os seguintes item do menu:

1) cadastrar aluno com as notas
2) editar os dados do aluno e das notas
3) excluir um aluno pelo número da matricula
4) mostrar a média de todas as notas dos alunos
5) mostrar o aluno com a maior média
6) mostrar a lista dos alunos reprovados (considere média 7)
7) mostrar a lista dos alunos em ordem alfabética juntamente com a média das notas
    */

  let lista = [];

  while (true) {
    let option = menu();

    if (option == 1) {
      cadastrar();
    } else if (option == 2) {
      editar();
    } else if (option == 3) {
      excluir();
    } else if (option == 4) {
      media();
    } else if (option == 5) {
      maior();
    } else if (option == 6) {
      reprovados();
    } else if (option == 7) {
      ordem();
    } else if (option == 0) {
      alert("Saiu!!");
      break;
    }
  }

  function indice(x){
    for(let y = 0; y > lista.length; y++){
        if(lista[y].mat == x){
            alert("Matricula encontrada!")
            return y
        }
    }
    alert("Matricula não encontrada!")
    return -1
  }

  function menu() {
    let select = Number(
      prompt(`Menu: 
        1) Para cadastrar 
        2) Para editar
        3) Para excluir
        4) Para ver a média geral
        5) Para mostrar aluno com maior média
        6) Para mostrar lista de alunos aprovados
        7) Para mostrar a lista em ordem e sua média
        0) para sair`)
    );

    if (select > 7 || select < 0) {
      alert("Opção inválida!");
    }
    return select;
  }

  function cadastrar() {
    // matricula, nome, idade, notas 3 notas
    let nota = [];

    let mat = prompt("Insira a Matricula ");
    let name = prompt("Insira o Nome: ");
    let year = prompt("Insira a Idade: ");

    alert("Agora Insira 3 notas")
    for (let x = 0; x < 3; x++) {
      let temp = parseInt(prompt(`Insira a ${x + 1}° nota!`));
      nota.push(temp);
    }

    let insert = {
      mat: mat,
      name: name,
      year: year,
      nota: nota
    };

    lista.push(insert);
    alert(lista.length)
  }

  function editar() {
    let edit = parseInt(prompt(`Insira a matriculda que deseja editar: `))
    let indice = indice(edit);

if(indice != -1){
    let alt = confirm(`Deseja alterar a Matricula?`);
    if(alt = 1){
        let matNew = parseInt(prompt(`Insira a nova Matricula: `));
        lista[indice].mat = matNew
        alert("Alterado!")
    }} else alert()
  }

</script>